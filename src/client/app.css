@import "tailwindcss";

/* ─── TurnIt Lock Theme ──────────────────────────────────────────────────── */

/* Register all theme tokens with Tailwind (dark values as defaults).
   @theme MUST be top-level — nesting it inside @media is not supported
   in Tailwind CSS 4 and silently breaks theme generation. */

@theme {
  --color-bg-primary: #1a1a2e;
  --color-bg-secondary: #16213e;
  --color-bg-surface: #0f3460;

  --color-text-primary: #e8e8e8;
  --color-text-secondary: #a0a0b0;
  --color-text-muted: #6b6b80;

  --color-lock-body: #4a4a5a;
  --color-lock-body-highlight: #6a6a7a;
  --color-lock-shackle: #8a8a9a;
  --color-lock-ring-bg: #2a2a3a;
  --color-lock-ring-border: #5a5a6a;

  --color-feedback-correct: #22c55e;
  --color-feedback-present: #eab308;
  --color-feedback-absent: #3a3a4a;

  --color-ring-fixed: #d4a017;
  --color-ring-fixed-text: #1a1a2e;

  --color-accent: #e94560;
  --color-accent-hover: #ff6b81;

  --color-tab-active: #e94560;
  --color-tab-inactive: #6b6b80;
  --color-tab-bg: #16213e;
}

/* ─── Light theme override (plain CSS, not @theme) ───────────────────────── */

@media (prefers-color-scheme: light) {
  :root {
    --color-bg-primary: #f0f0f5;
    --color-bg-secondary: #e0e0ea;
    --color-bg-surface: #d0d0dd;

    --color-text-primary: #1a1a2e;
    --color-text-secondary: #4a4a5a;
    --color-text-muted: #8a8a9a;

    --color-lock-body: #b0b0c0;
    --color-lock-body-highlight: #c8c8d4;
    --color-lock-shackle: #9a9aaa;
    --color-lock-ring-bg: #e8e8f0;
    --color-lock-ring-border: #c0c0d0;

    --color-feedback-correct: #16a34a;
    --color-feedback-present: #ca8a04;
    --color-feedback-absent: #d0d0dd;

    --color-ring-fixed: #b8860b;
    --color-ring-fixed-text: #ffffff;

    --color-accent: #e94560;
    --color-accent-hover: #d63851;

    --color-tab-active: #e94560;
    --color-tab-inactive: #8a8a9a;
    --color-tab-bg: #e0e0ea;
  }
}

/* ─── Animations ─────────────────────────────────────────────────────────── */

@keyframes success-glow {
  0% { opacity: 0; transform: scale(0.8); }
  50% { opacity: 1; transform: scale(1.05); }
  100% { opacity: 0.8; transform: scale(1); }
}

@keyframes light-beam {
  0% { opacity: 0; transform: scaleY(0); }
  30% { opacity: 0.9; transform: scaleY(1); }
  100% { opacity: 0; transform: scaleY(1.3); }
}

@keyframes success-burst {
  0% { opacity: 0; transform: scale(0); }
  60% { opacity: 1; transform: scale(1.2); }
  100% { opacity: 0; transform: scale(2); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

@keyframes rust-fade {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes chain-drop {
  0% { opacity: 0; transform: translateY(-20px); }
  60% { opacity: 1; transform: translateY(4px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes float-up {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* ─── Base styles ────────────────────────────────────────────────────────── */

html, body, #app {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  font-family: system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  touch-action: manipulation;
}
